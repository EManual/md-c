代码如下：
[code=java]
#include<stdio.h>
#[Keywords]int #a[]={0,1,2,5,8,7,6,3#};    #[Tags]/*指针数组.依次存入矩阵中构成环的元素下标*/
#[Keywords]int #b[9];              #[Tags]/*表示3X3矩阵,b[4]为空格*/
#[Keywords]int #c[9];              #[Tags]/*确定1所在的位置后,对环进行调整的指针数组*/
#[Keywords]int #count=0;           #[Tags]/*数字移动步数计数器*/
#[Keywords]void #main()
{
   #[Keywords]int #i,j,k,t;
   #[Keywords]void #print();
   #clrscr();
   #puts(#[Fields]"*****************************************************"#);
   #puts(#[Fields]"*         This is a program to Move Numbers.        *"#);
   #puts(#[Fields]"*****************************************************"#);
   #printf(#[Fields]" >> Please enter original order of digits 1~8: "#);
   #[Keywords]for#(i=0;i<8;i++)
      #scanf(#[Fields]"%d"#,&b[a[i]]);
               #/*顺序输入矩阵外边的8个数字,矩阵元素的顺序由指针数组的元素a[i]控制*/
   #printf(#[Fields]"The sorting process is as felow:\n"#);
   #print();
   #[Keywords]for#(t=-1,j=0;j<8&&t==-1;j++)     #[Tags]/*确定数字1所在的位置*/
      #[Keywords]if#(b[a[j]]==1) t=j;           #[Tags]/*t:记录数字1所在的位置*/
   #[Keywords]for#(j=0;j<8;j++)     #[Tags]/*调整环的指针数组,将数字1所在的位置定为环的首*/
      #c[j]=a[(j+t)%8];
   #[Keywords]for#(i=2;i<9;i++)         #[Tags]/*从2开始依次调整数字的位置*/
                        #/*i:正在处理的数字,i对应在环中应当的正确位置就是i-1*/
      #[Keywords]for#(j=i-1;j<8;j++)     #[Tags]/*从i应处的正确位置开始顺序查找*/
	 #[Keywords]if#(b[c[j]]==i&&j!=i-1)      #[Tags]/*若i不在正确的位置*/
         #{
            #b[4]=i;          #[Tags]/*将i移到中心的空格中*/
	    #b[c[j]]=0;print();     #[Tags]/*空出i原来所在的位置,输出*/
            #[Keywords]for#(k=j;k!=i-1;k--)    #[Tags]/*将空格以前到i的正确位置之间的数字依次向后移动一格*/
            #{
	       #b[c[k]]=b[c[k-1]];    #[Tags]/*数字向后移动*/
	       #b[c[k-1]]=0;
               #print();
            #}
	    #b[c[k]]=i;         #[Tags]/*将中间的数字i移入正确的位置*/
            #b[4]=0;            #[Tags]/*空出中间的空格*/
            #print();
            #[Keywords]break#;
         #}
	 #[Keywords]else #[Keywords]if#(b[c[j]]==i) #[Keywords]break#;       #[Tags]/*数字i在正确的位置*/
    #printf(#[Fields]"\n Press any key to quit..."#);
    #getch();
#}
#[Keywords]void #print(void)        #[Tags]/*按格式要求输出矩阵*/
{
   #[Keywords]int #c;
   #printf(#[Fields]" >> Step No.%2d  "#,count++);
   #[Keywords]for#(c=0;c<9;c++)
      #[Keywords]if#(c%3==2) printf(#[Fields]"%2d  "#,b[c]);
      #[Keywords]else # printf(#[Fields]"%2d"#,b[c]);
   #printf(#[Fields]"\n"#);
#}
[/code]