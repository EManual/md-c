代码如下：
[code=java]
#include <stdio.h>
#define MAX  1000
#define MAXSYMBS 30
#define MAXNODE 59
typedef struct
{
  #[Keywords]int #weight;
  #[Keywords]int #flag;
  #[Keywords]int #parent;
  #[Keywords]int #lchild;
  #[Keywords]int #rchild;
#}huffnode;
typedef struct
{
  #[Keywords]int #bits[MAXSYMBS];
  #[Keywords]int #start;
#}huffcode;
main()
{
	#huffnode huff_node[MAXNODE];
    #huffcode huff_code[MAXSYMBS],cd;
    #[Keywords]int #i,j,m1,m2,x1,x2,n,c,p;
	#[Tags]/* #[Keywords]char #symbs[MAXSYMBS],symb; */
    #[Tags]/*数组huff_node初始化*/
    #clrscr();
	#printf(#[Fields]"please input the leaf num of tree:\n"#);
    #scanf(#[Fields]"%d"#,&n);
    #[Keywords]for#(i=0;i<2*n-1;i++)
	#{
		#huff_node[i].weight=0;
        #huff_node[i].parent=0;
		#huff_node[i].flag=0;
		#huff_node[i].lchild=-1;
        #huff_node[i].rchild=-1;
	#}
	#printf(#[Fields]"please input the weight of every leaf\n"#);
    #[Keywords]for#(i=0;i<n;i++)
        #scanf(#[Fields]"%d"#,&huff_node[i].weight);
	#[Tags]/*构造哈夫曼树*/
    #[Keywords]for#(i=0;i<n-1;i++)
	#{
        #m1=m2=MAX;
        #x1=x2=0;
        #[Keywords]for#(j=0;j<n+i;j++)
		#{
            #[Keywords]if #(huff_node[j].weight<m1&&huff_node[j].flag==0)
			#{
			    #m2=m1;
                #x2=x1;
                #m1=huff_node[j].weight;
                #x1=j;
			#}
            #[Keywords]else #[Keywords]if #(huff_node[j].weight<m2&&huff_node[j].flag==0)
			#{
			    #m2=huff_node[j].weight;
                #x2=j;
			#}
		#}
        #huff_node[x1].parent=n+i;    #[Tags]/*将找出的两棵子树合并为一棵子树*/
        #huff_node[x2].parent=n+i;
        #huff_node[x1].flag=1;
        #huff_node[x2].flag=1;
        #huff_node[n+i].weight=huff_node[x1].weight+huff_node[x2].weight;
        #huff_node[n+i].lchild=x1;
        #huff_node[n+i].rchild=x2;
	#}
	#[Tags]/*求字符的哈夫曼编码*/
    #[Keywords]for#(i=0;i<n;i++)
	#{
		#cd.start=n;
        #c=i;
        #p=huff_node[c].parent;
       #[Keywords] while#(p!=0)
		#{
			#[Keywords]if#(huff_node[p].lchild==c)
            
				#cd.bits[cd.start]=0;
           #[Keywords] else#
				#cd.bits[cd.start]=1;
            #cd.start=cd.start-1;
            #c=p;
            #p=huff_node[p].parent;
		#}
		#cd.start++;
        #[Keywords]for#(j=cd.start;j<=n;j++)
			#huff_code[i].bits[j]=cd.bits[j];
        #huff_code[i].start=cd.start;
	#}
    #[Tags]/*输出字符的哈夫曼编码*/
    #puts(#[Fields]"The Hafman code are:"#);
    #[Keywords]for#(i=0;i<n;i++)
	#{
		#[Keywords]for#(j=huff_code[i].start;j<=n;j++)
			#printf(#[Fields]"%10d"#,huff_code[i].bits[j]);
        #printf(#[Fields]"\n"#);
	#}
	#puts(#[Fields]"Press any key to quit..."#);
	#getch();
#}
[/code]