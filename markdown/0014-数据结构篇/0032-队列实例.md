代码如下：
[code=java]
#include <string.h>
#include <stdlib.h>
#include <stdio.h>
#include <ctype.h>
#define MAX 100
#[Keywords]char #*p[MAX], *qretrieve(void);
#[Keywords]int #spos = 0;
#[Keywords]int #rpos = 0;
#[Keywords]void #enter(void), qstore(#[Keywords]char #*q), review(void), delete_ap(void);
#[Keywords]int #main(void)
{
	#[Keywords]char #s[80];
	#register #[Keywords]int #t;
	#[Keywords]for#(t=0; t < MAX; ++t) p[t] = NULL; /* init array to #[Keywords]null#s */
	#[Keywords]for#(;;) {
		#printf(#[Fields]"Enter, List, Remove, Quit: "#);
		#gets(s);
		#[Tags]*s = toupper(#[Tags]*s);
		
		#switch(*s) {
		#[Keywords]case ##[Fields]'E'#:
			#enter();
			#[Keywords]break#;
		#[Keywords]case ##[Fields]'L'#:
			#review();
			#[Keywords]break#;
		#[Keywords]case ##[Fields]'R'#:
			#delete_ap();
			#[Keywords]break#;
		#[Keywords]case ##[Fields]'Q'#:
			#exit(0);
		#}
	#}
	#[Keywords]return #0;
#}
#[Tags]/* Enter appointments in queue. */
#[Keywords]void #enter(void)
{
	#[Keywords]char #s[256], *p;
	#[Keywords]do #{
		#printf(#[Fields]"Enter appointment %d: "#, spos+1);
		#gets(s);
		#[Keywords]if#(*s==0) #[Keywords]break#; /* no en#[Keywords]try #*/
		#p = (#[Keywords]char #*) malloc(strlen(s)+1);
		#[Keywords]if#(!p) {
			#printf(#[Fields]"Out of memory.\n"#);
			#[Keywords]return#;#
		#}
		#strcpy(p, s);
		#[Keywords]if#(*s) qstore(p);
	#}#[Keywords] while#(*s);
#}
#[Tags]/* See what#[Fields]'s in the queue. */
#[Keywords]void #review(void)
{
	#register #[Keywords]int #t;
	#[Keywords]for#(t=rpos; t < spos; ++t)
		#printf(#[Fields]"%d. %s\n"#, t+1, p[t]);
#}
#[Tags]/* Delete an appointment from the queue. */
#[Keywords]void #delete_ap(void)
{
	#[Keywords]char #*p;
	#[Keywords]if#((p=qretrieve())==NULL) #[Keywords]return#;#
	#printf(#[Fields]"%s\n"#, p);
#}
#[Tags]/* Store an appointment. */
#[Keywords]void #qstore(#[Keywords]char #*q)
{
	#[Keywords]if#(spos==MAX) {
		#printf(#[Fields]"List Full\n"#);
		#[Keywords]return#;#
	#}
	#p[spos] = q;
	#spos++;
#}
#[Tags]/* Retrieve an appointment. */
#[Keywords]char #*qretrieve(void)
{
	#[Keywords]if#(rpos==spos) {
		#printf(#[Fields]"No more appointments.\n"#);
		#[Keywords]return #NULL;
	#}
	#rpos++;
	#[Keywords]return #p[rpos-1];
#}
[/code]