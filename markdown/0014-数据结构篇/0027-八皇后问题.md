代码如下：
[code=java]
#include <math.h>
#include <stdio.h>
#define MAX 8 #[Tags]/* 棋子数及棋盘大小MAXxMAX */
#[Keywords]int #board[MAX];
#[Tags]/* 印出結果 */
#[Keywords]void #show_result()
{
    #[Keywords]int #i;
    #[Keywords]for#(i=0;i<MAX;i++)
	#printf(#[Fields]"(%d,%d)"#,i,board[i]);
    #printf(#[Fields]"\n"#);
#}
#[Tags]/* 检查是否在同一直橫斜线上有其它棋子 */
#[Keywords]int #check_cross(#[Keywords]int #n)
{
    #[Keywords]int #i;
    #[Keywords]for#(i=0;i<n;i++){
	#[Keywords]if#(board[i]==board[n] || (n-i)==abs(board[i]-board[n]))#[Keywords]return #1;
    #}
    #[Keywords]return #0;
#}
#[Tags]/* 放棋子到棋盘上 */
#[Keywords]void #put_chess(#[Keywords]int #n)
{
    #[Keywords]int #i;
    #[Keywords]for#(i=0;i<MAX;i++){
	#board[n]=i;
	#[Keywords]if#(!check_cross(n)){
	    #[Keywords]if#(n==MAX-1) show_result();#[Tags]/* 找到其中一种放法了...印出結果 */
	    #[Keywords]else #put_chess(n+1);
	#}
    #}
#}
#[Keywords]void #main()
{
	#clrscr();
	#puts(#[Fields]"The possible placements are:"#);
    #put_chess(0);
    #puts(#[Fields]"\n Press any key to quit..."#);
	#getch();
    #[Keywords]return#;#
#}
[/code]