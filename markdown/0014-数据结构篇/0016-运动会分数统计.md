代码如下：
[code=java]
#include <stdio.h>
#include <stdlib.h>
#include <malloc.h>
#define n 4
#define m 3
#define w 2
struct achievement  #[Comments]//定义表示成绩的结构体
{#[Keywords]int #schoolnumber;#[Comments]//学校编号
#[Keywords]char #name[20];	#[Comments]//姓名
#[Keywords]int #mark;	#[Comments]//分数
#[Keywords]int #result;#};
struct pro     #[Comments]//表示项目的结构体
{#[Keywords]int #tag;#[Comments]//项目编号
struct achievement ach[5];
#[Keywords]int #number;#};
struct Node         
{struct pro date;
struct Node *next;#};
#[Keywords]void #ListInitiate(struct Node * *head)    #[Comments]//初始化单链表
{
    #[Keywords]if#((*head=(struct Node*)malloc(sizeof(struct Node)))==NULL) exit(1);
    #(*head)->next=NULL;
#}
#[Keywords]void #main()
{
    #[Keywords]int #i,j,t;
    #[Keywords]int #x[n]={0#};#[Keywords]int #y[n]={0#};
    #struct Node *head;
    #struct Node *p;
    #struct Node *q;
    #ListInitiate(&head);
    #p=head;
	#[Keywords]for#(i=0;i<m+w;i++)      #[Comments]//输入成绩
    #{
        #j=i+1;
        #printf(#[Fields]"请输入第%d个项目的信息\n"#,j);
        #p->date.number=j;
        #printf(#[Fields]"所取的名次数为:"#);
        #scanf(#[Fields]"%d"#,&p->date.tag);
       #[Keywords] while#(p->date.tag!=3&&p->date.tag!=5)
        #{printf(#[Fields]"输入有误，请重新输入!"#);
		#printf(#[Fields]"所取的名次数为:"#);
		#scanf(#[Fields]"%d"#,&p->date.tag);#}
        #t=1;
       #[Keywords] while#(t<=p->date.tag)
        #{
            #printf(#[Fields]"第%d名的名字:"#,t);
            #scanf(#[Fields]"%s"#,&p->date.ach[t-1].name);
            #printf(#[Fields]"第%d名的学校:"#,t);
            #scanf(#[Fields]"%d"#,&p->date.ach[t-1].schoolnumber);
            #printf(#[Fields]"第%d名的分数:"#,t);
            #scanf(#[Fields]"%d"#,&p->date.ach[t-1].mark);
            #p->date.ach[t-1].result=t;
            #t++;
        #}
        #q=(struct Node*)malloc(sizeof(struct Node));  #[Comments]//生成新结点
        #p->next=q;
        #p=q;
        #p->next=NULL;
    #}
	#[Keywords]for#(i=0;i<n;i++)     #[Comments]//产生成绩单
	#{
		#j=i+1;
		#printf(#[Fields]"学校%d成绩单\n"#,j);
		#[Comments]//t=1;
		#p=head;
		#do
		#{
			#t=1;
			#[Keywords]while#(t<=p->date.tag)
			#{
				#[Keywords]if#(p->date.ach[t-1].schoolnumber==j)
				#{
					#printf(#[Fields]"获奖项目:%d   "#,p->date.number);
					#printf(#[Fields]"名次:%d   \n"#,p->date.ach[t-1].result);
					#printf(#[Fields]"获奖人姓名:%s   "#,p->date.ach[t-1].name);
					#printf(#[Fields]"所得分数:%d   "#,p->date.ach[t-1].mark);
					#[Keywords]if#(p->date.number<=m)
						#x[i]=x[i]+p->date.ach[t-1].mark;
					#else
						#y[i]=y[i]+p->date.ach[t-1].mark;
				#}    
				#t++;
			#}
			#p=p->next;
		#}#[Keywords]while#(p!=NULL);
		#printf(#[Fields]"\n男子团体总分:%d   "#,x[i]);
		#printf(#[Fields]"女子团体总分:%d   \n"#,y[i]);
		#printf(#[Fields]"\n团体总分:%d\n"#,x[i]+y[i]);
	#}
#}
[/code]