代码如下：
[code=java]
#include <stdio.h>
#include <stdlib.h>
#define  enoughsize 100  
#[Comments]//最大队列长度
typedef struct 
{
    #int*base ;
    #[Comments]//初始化的动态分配存储空间
    #[Keywords]int #front ;
    #[Comments]//头指针,若队列不空,指向队列头元素
    #[Keywords]int #rear ;
    #[Comments]//尾指针,若队列不空,指向队列尾元素的下一个位置
#}
SqQueue ;
#[Keywords]int #AddSum(#[Keywords]int #n,int*q)
{
    #[Keywords]int #sum=0 ;
    #[Keywords]int #i ;
    #[Keywords]for#(i=0;i<n;i++)sum+=q[i];
    #[Keywords]return #sum ;
#}
#[Keywords]void #main()
{
    #SqQueue Q ;
    #[Keywords]int #k,max,i,n,*store ;
    #printf(#[Fields]"请输入斐波那奇的阶数:"#);
    #scanf(#[Fields]"%d"#,&k);
    #printf(#[Fields]"请输入序列中允许的最大数:"#);
    #scanf(#[Fields]"%d"#,&max);
    #Q.base=(int*)malloc(k*sizeof(#[Keywords]int#));
    #store=(int*)malloc(enoughsize*sizeof(#[Keywords]int#));
    #[Keywords]if#((!Q.base)||(!store))
    #{
        #printf(#[Fields]"Error!"#);
        #[Keywords]return #;
    #}
    #[Keywords]for#(i=0;i<k;i++)
    #{
        #store[i]=0 ;
        #Q.base[i]=0 ;
    #}
    #store[k-1]=1 ;
    #Q.base[k-1]=1 ;
    #[Comments]//初始化fib序列
    #store[k]=AddSum(k,Q.base);
    #Q.front=0 ;
    #Q.rear=k-1 ;
    #n=k ;
   #[Keywords] while#(store[n]<=max)
    #{
        #Q.rear=(Q.rear+1)%k ;
        #Q.base[Q.rear]=store[n];
        #n++;
        #store[n]=AddSum(k,Q.base);
    #}
    #printf(#[Fields]"The first %d%s%d%c%s"#,n,#[Fields]" numbers are less than "#,max,#[Fields]'.'#,#[Fields]"\n"#);
    #printf(#[Fields]"The numbers are:\n"#);
    #[Keywords]for#(i=0;i<n;i++)printf(#[Fields]"%d%c"#,store[i],#[Fields]' '#);
    #printf(#[Fields]"\n"#);
#}
[/code]