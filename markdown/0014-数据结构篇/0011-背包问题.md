代码如下：
[code=java]
#include<stdio.h>
#include<stdlib.h>
#define MAX 100
struct Bag 
{
    #[Keywords]int #weight ;
    #[Keywords]int #value ;
#}
Bag[MAX];
#[Keywords]int #a[MAX];
#[Keywords]int #Value=0 ;
#[Keywords]int #Weight ;
#[Keywords]int #comb(#[Keywords]int #m,#[Keywords]int #k)
{
    #[Keywords]int #i,j ;
    #[Keywords]int #wei,val ;
    #[Keywords]for#(i=m;i>=k;i--)
    #{
        #a[k]=i ;
        #[Keywords]if#(k>1)
        #comb(i-1,k-1);
        #[Keywords]else #
        #{
            #wei=0 ;
            #/* 预值0 */
            #val=0 ;
            #/* 每一种组合求它们的重量和价值 */
            #[Keywords]for#(j=a[0];j>0;j--)
            #{
                #wei=wei+Bag[a[j]].weight ;
                #val=val+Bag[a[j]].value ;
            #}
            #/* 判断是否满足条件进行附值 */
            #[Keywords]if#(wei<=Weight&&val>Value)Value=val ;
        #}
    #}
    #[Keywords]return #Value ;
#}
#[Keywords]void #main()
{
    #[Keywords]int #num,subnum ;
    #[Keywords]int #l,
    #clrscr();
    #printf(#[Fields]"输入背包的总个数:"#);
    #/* 输入背包的总个数 */
    #scanf(#[Fields]"%d"#,&num);
    #printf(#[Fields]"输入背包的重量和价值\n"#,num);
    #/* 输入背包的重量和价值 */
    #[Keywords]for#(l=1;l<=num;l++)
    #scanf(#[Fields]"%d,%d"#,&Bag[l].weight,&Bag[l].value);
    #printf(#[Fields]"输入满足要求背包的个数:\n"#);
    #/* 输入要求背包的个数 */
    #scanf(#[Fields]"%d"#,&subnum);
    #printf(#[Fields]"输入满足条件的重量:\n"#,subnum);
    #/* 输入满足条件的重量*/
    #scanf(#[Fields]"%d"#,&Weight);
    #a[0]=subnum ;
    #printf(#[Fields]"the max value is:%d"#,comb(num,subnum));
    #getch();
#}
[/code]