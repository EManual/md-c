代码如下：
[code=java]
#include <stdio.h>
#define MAX 255
#[Keywords]int #R[MAX];
#[Keywords]void #ShellPass(#[Keywords]int #d,#[Keywords]int #n)
{
    #[Tags]/* 希尔排序中的一趟排序，d为当前增量 */
    #[Keywords]int #i,j ;
    #[Tags]/* 将R[d+1．．n]分别插入各组当前的有序区 */
    #[Keywords]for#(i=d+1;i<=n;i++)#[Keywords]if#(R[i]<R[i-d])
    #{
        #R[0]=R[i];
        #j=i-d ;
        #[Tags]/* R[0]只是暂存单元，不是哨兵 */
        #[Keywords]do #
        #{
            #[Tags]/* 查找R[i]的插入位置 */
            #R[j+d]=R[j];
            #[Tags]/* 后移记录 */
            #j=j-d ;
            #[Tags]/* 查找前一记录 */
        #}
       #[Keywords] while#(j>0&&R[0]<R[j]);
        #R[j+d]=R[0];
        #[Tags]/* 插入R[i]到正确的位置上 */
    #}
    #[Tags]/* end#[Keywords]if #*/
#}
#[Tags]/* end of ShellPass */
#[Keywords]void #Shell_Sort(#[Keywords]int #n)
{
    #[Keywords]int #increment=n ;
    #[Tags]/* 增量初值，不妨设n>0 */
    #[Keywords]do #
    #{
        #increment=increment/3+1 ;
        #[Tags]/* 求下一增量 */
        #ShellPass(increment,n);
        #[Tags]/* 一趟增量为increment的Shell插入排序 */
    #}
   #[Keywords] while#(increment>1);
#}
#[Tags]/* ShellSort */
#[Keywords]void #main()
{
    #[Keywords]int #i,n ;
    #clrscr();
    #puts(#[Fields]"Please input total element number of the sequence:"#);
    #scanf(#[Fields]"%d"#,&n);
    #[Keywords]if#(n<=0||n>MAX)
    #{
        #printf(#[Fields]"n must more than 0 and less than %d.\n"#,MAX);
        #exit(0);
    #}
    #puts(#[Fields]"Please input the elements one by one:"#);
    #[Keywords]for#(i=1;i<=n;i++)
    #scanf(#[Fields]"%d"#,&R[i]);
    #puts(#[Fields]"The sequence you input is:"#);
    #[Keywords]for#(i=1;i<=n;i++)
    #printf(#[Fields]"%4d"#,R[i]);
    #Shell_Sort(n);
    #puts(#[Fields]"\nThe sequence after shell_sort is:"#);
    #[Keywords]for#(i=1;i<=n;i++)
    #printf(#[Fields]"%4d"#,R[i]);
    #puts(#[Fields]"\n Press any key to quit..."#);
    #getch();
#}
[/code]