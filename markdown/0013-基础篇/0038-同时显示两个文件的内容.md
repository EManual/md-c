代码如下：
[code=java]
#include <stdio.h>
#define PAGELINE   20
#define PAGESPLINE 2
#define TXTWIDTH   30
#define TXTGAP     10
linecount()#[Tags]/*完成对输出行的计数和一页满后，输出空行*/
{
	#[Keywords]static #[Keywords]int #pline=0;
	#[Keywords]int #i;
	#[Keywords]if#(++pline==PAGELINE)
	#{
		#[Keywords]for#(i=0;i<PAGESPLINE;i++)#[Tags]/*输出一页后的空行*/
			#printf(#[Fields]"\n"#);
		#pline=0;
	#}
#}
#[Keywords]int #readline(FILE *fpt)#[Tags]/*完成从指定的文件中读出一行多至30个字符并输出*/
{
	#[Keywords]int #c,cpos=0;
	#[Keywords]while#((c=fgetc(fpt))!=#[Fields]'\n'#)
	#{
		#[Keywords]if#(feof(fpt))
			#[Keywords]break#;#[Tags]/*文件结束推出循环*/
		#printf(#[Fields]"%c"#,c);
		#cpos++;
		#[Keywords]if#(cpos>=TXTWIDTH)
			#[Keywords]break#;
	#}
	#[Keywords]return #cpos;#[Tags]/*返回读入并输出的字符数*/
#}
main()
{
	#FILE *fpt1,*fpt2;
	#[Keywords]char #fname[120];#[Tags]/*存贮文件名*/
	#[Keywords]int #fill1,fill2;#[Tags]/*分别记录两个文件当前行读入并输出的字符数*/
	#clrscr();
	#printf(#[Fields]"Enter file 1 name.\n"#);
	#scanf(#[Fields]"%s"#,fname);
	#fpt1=fopen(fname,#[Fields]"r"#);#[Tags]/*打开文件1*/
	#[Keywords]if#(fpt1==NULL)
	#{	printf(#[Fields]"Can#[Fields]'t open file %s.\n"#,fname);
		#exit(1);
	#}
	#printf(#[Fields]"Enter file 2 name.\n"#);
	#scanf(#[Fields]"%s"#,fname);
	#fpt2=fopen(fname,#[Fields]"r"#);#[Tags]/*打开文件2*/
	#[Keywords]if#(fpt2==NULL)
	#{	printf(#[Fields]"Can#[Fields]'t open file %s.\n"#,fname);
		#fclose(fpt1);
		#exit(2);
	#}
	#[Keywords]while#(!feof(fpt1)||!feof(fpt2))#[Tags]/*在有文件还未结束时循环*/
	#{
		#fill1=fill2=0;
		#[Keywords]if#(!feof(fpt1)) fill1=readline(fpt1);#[Tags]/*在文件未结束时读文件*/
		#printf(#[Fields]"%*c"#,TXTWIDTH-fill1+TXTGAP,#[Fields]''#);
		#[Keywords]if#(!feof(fpt2)) fill2=readline(fpt2);#[Tags]/*在文件未结束时读文件*/
		#printf(#[Fields]"%*c%2d\n"#,TXTWIDTH-fill2+4,#[Fields]''#,fill1+fill2);
		#linecount();#[Tags]/*调用行计数函数*/
	#}
	#puts(#[Fields]"\n Press any key to quit..."#);
	#getch();
#}
[/code]