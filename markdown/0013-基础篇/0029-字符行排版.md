代码如下：
[code=java]
#[Tags]/* 字符排版函数,将字符行内单字之间的空白字符平均分配插入到单字之间*/
#define N 80
edit(#[Keywords]char #*s)
{
	#[Keywords]int #i,sp,w,inw,v,r;
	#[Keywords]char #buf[N],*str;
	#[Keywords]for#(inw=sp=w=i=0;s[i];i++)
	#{
		#[Keywords]if#(s[i]==#[Fields]' '#)
		#{		#[Tags]/* 统计空白个数*/
			#sp++;
			#inw=0;	#[Tags]/* 置空白符状态*/
		#}
		#[Keywords]else #[Keywords]if#(!inw)
		#{
			#w++;	#[Tags]/* 统计单字个数*/
			#inw=1;	#[Tags]/* 置单字状态*/
		#}
	#}
	#[Keywords]if#(w<=1)
		#[Keywords]return#;#	#[Tags]/* 单字数不超过1, 不排版 */
	#v=sp/(w-1);	#[Tags]/* 每个间隔平均空白符 */
	#r=sp%(w-1);	#[Tags]/* 多余的空白符 */
	#strcpy(buf,s);
	#[Keywords]for#(str=buf;;)
	#{
		#[Keywords]while#(*str==#[Fields]' '#)str++; #[Tags]/* 掠过空白符 */
		#[Keywords]for#(;*str&&*str!=#[Fields]' '#;) #[Tags]/* 复制单字 */
			#[Tags]*s++=#[Tags]*str++;
		#[Keywords]if#(--w==0)
			#[Keywords]return#;#		#[Tags]/* 全部单字复制完毕，返回 */
		#[Keywords]for#(i=0;i<v;i++)
			#[Tags]*s++=' ';	/#[Tags]* 插入间隔空白符 #[Tags]*/
		#[Keywords]if#(r)
		#{
			#[Tags]*s++=' ';	/#[Tags]* 插入一个多余空白符 #[Tags]*/
			#r--;
		#}
	#}
#}
#[Keywords]char #buff[N];
main()		#[Tags]/* 用于测试edit函数 */
{
	#clrscr();
	#puts(#[Fields]"This is a typeset program!\nPlease input a character line:\n"#);
	#gets(buff);
	#edit(buff);
	#printf(#[Fields]"\nThe character line after typeset is:\n\n%s\n"#,buff);
	#puts(#[Fields]"\n Press any key to quit...\n "#);
	#getch();
#}
[/code]