代码如下：
[code=java]
#include <stdio.h>
#define N 20
#define DELTA 2
#[Keywords]int #bestlen;
#[Keywords]int #bestsele[N];
#[Keywords]int #sele[N];
#[Keywords]int #n;
#[Keywords]int #orderlen[N];
#[Keywords]int #total;
main()
{
	#[Keywords]int #i;
	#clrscr();
	#printf(#[Fields]"\n Please enter total length of the steel:\n"#);/* 输入钢材总长 */
	#scanf(#[Fields]"%d"#,&total);
	#printf(#[Fields]"\n Please enter number of order:\n"#);  /* 输入定单数 */
	#scanf(#[Fields]"%d"#,&n);
	#printf(#[Fields]"\n Please enter the orders:\n"#); /* 输入各定单 */
	#[Keywords]for#(i=0;i<n;i++)
		#scanf(#[Fields]"%d"#,&orderlen[i]);
	#bestlen=0;	/*最佳解用料的初值 */
	#[Keywords]for#(i=0;i<n;i++)
		#sele[i]=bestsele[i]=0;	/*置当前选择和最佳选择初值 */
	#try();	/* 调用函数求解 */
	#[Keywords]for#(i=0;i<n;i++) /* 输出结果 */
		#[Keywords]if#(bestsele[i])
			#printf(#[Fields]"order %d length = %d\n"#,i+1,orderlen[i]);
	#printf(#[Fields]"\n Press any key to quit..."#);
	#getch();
#}
try()
{
	#[Keywords]int #i,len;
	#[Keywords]for#(len=i=0;i<n;i++)	/* 求当前选中的用料量 */
		#[Keywords]if#(sele[i])
			#len+=orderlen[i]+DELTA;
	#[Keywords]if#(len-DELTA<=total)	/* 注意最后一段可能不需要切割 */
	#{
		#[Keywords]if#(bestlen < len)
		#{
			#/* 找到一个更好的解 */
			#bestlen = len;
			#[Keywords]for#(i=0;i<n;i++)
				#bestsele[i]=sele[i];
		#}
		#[Keywords]for#(i=0;i<n;i++) /* 对所有未选定单逐一作选中尝试循环 */
			#[Keywords]if#(!sele[i])
			#{
				#sele[i]=1;	/* 做选中尝试*/
				#try();
				#sele[i]=0;
			#}
	#}
#}
[/code]