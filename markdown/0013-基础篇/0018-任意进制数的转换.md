代码如下：
[code=java]
#[Tags]/* 函数trans将无符号整数n翻译成d（2<＝d<＝16）进制表示的字符串s */
#define M sizeof(unsigned #[Keywords]int#)*8 
#[Keywords]int #trans(unsigned n,#[Keywords]int #d,#[Keywords]char #s[])
{
    #[Keywords]static #[Keywords]char #digits[]=#[Fields]"0123456789ABCDEF"# ;
    #[Tags]/* 十六进制数字的字符 */
    #[Keywords]char #buf[M+1];
    #[Keywords]int #j,i=M ;
    #[Keywords]if#(d<2||d>16)
    #{
        #s[0]=#[Fields]'\0'# ;
        #[Tags]/* 不合理的进制，置s为空字符串 */
        #[Keywords]return #0 ;
        #[Tags]/* 不合理的进制，函数返回0 */
    #}
    #buf[i]=#[Fields]'\0'# ;
    #[Keywords]do #
    #{
        #buf[--i]=digits[n%d];
        #[Tags]/*译出最低位，对应字符存入对应工作数组中*/
        #n/=d ;
    #}
   #[Keywords] while#(n);
    #[Tags]/* 将译出在工作数组中的字符串复制到s */
    #[Keywords]for#(j=0;(s[j]=buf[i])!=#[Fields]'\0'#;j++,i++);
    #[Tags]/* 其中控制条件可简写成s[j]=buf[i] */
    #[Keywords]return #j ;
#}
#[Tags]/* 主函数用于测试函数 trans() */
main()
{
    #unsigned #[Keywords]int #num=253 ;
    #[Keywords]int #scale[]=
    #{
        #2,3,10,16,1
    #}
    #;
    #[Keywords]char #str[33];
    #[Keywords]int #i ;
    #clrscr();
    #[Keywords]for#(i=0;i<sizeof(scale)/sizeof(scale[0]);i++)
    #{
        #[Keywords]if#(trans(num,scale[i],str))
        #printf(#[Fields]"%5d = %s(%d)\n"#,num,str,scale[i]);
        #[Keywords]else #
        #printf(#[Fields]"%5d => (%d) Error! \n"#,num,scale[i]);
    #}
    #printf(#[Fields]"\n Press any key to quit...\n"#);
    #getch();
#}
[/code]